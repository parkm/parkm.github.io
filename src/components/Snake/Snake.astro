---
---

<canvas id="snake"></canvas>

<div class="absolute bottom-10 right-5 z-10 flex flex-col gap-3">
  <label class="flex items-center gap-2 text-white font-mono text-base cursor-pointer select-none bg-black/70 px-3 py-2 rounded border border-white/30 hover:bg-black/80 hover:border-white/50 transition-colors">
    <input type="checkbox" id="safe-mode-checkbox" class="w-4 h-4 cursor-pointer" checked />
    <span>Safe mode</span>
  </label>

  <button
    id="spawn-button"
    class="flex items-center gap-2 text-white font-mono text-sm cursor-pointer select-none bg-black/70 px-3 py-2 rounded border border-white/30 hover:bg-black/80 hover:border-white/50 transition-all duration-75 active:scale-95"
  >
    <span>üçé Spawn</span>
  </button>
</div>

<script>
  import { runSnake } from "./snake.ts";

  document.addEventListener("DOMContentLoaded", () => {
    const canvas = document.getElementById("snake");
    if (!(canvas instanceof HTMLCanvasElement)) {
      console.error("Canvas element not found");
      return;
    }

    const resize = () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    };
    resize();
    runSnake(canvas);

    window.addEventListener("resize", resize);
    window.addEventListener("orientationchange", resize);
  });
</script>

<style>
  #snake {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: black;
    touch-action: manipulation; /* Prevents zoom on double-tap */
  }

  /* Additional zoom prevention */
  body, html {
    touch-action: manipulation;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    -webkit-text-size-adjust: none;
  }

  /* Prevent zoom on input focus */
  input, button, textarea, select {
    font-size: 16px !important;
  }
</style>